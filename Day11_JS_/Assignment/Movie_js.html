<!DOCTYPE html>
<html lang="en">

<head>
    <title>Movie using JS</title>
    <script src="jquery.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"></script>
    <script type="text/javascript">

        var movie = []

        function validateName() {
           // var name = document.getElementById("name").value
           var name = $("#name").val()
            if (name.length > 5) {
                //document.getElementById("name_err").innerHTML = ""
                $("#name_err").html("")
                return name
            } else {
               // document.getElementById("name_err").innerHTML = "Name must be 5 chars"
                $("#name_err").html("Name must be 5 chars")
                return false
            }
        }
        function validateActor() {
           // var actor = document.getElementById("actor").value
           var actor = $("#actor").val()
            if (actor.length > 3) {
                //document.getElementById("actor_err").innerHTML = ""
                $("#name_err").html("")
                return actor
            } else {
                //document.getElementById("actor_err").innerHTML = "Name must be 3 chars"
                $("#name_err").html("Name must be 3 chars")
                return false
            }
        }

        function save() {
            // var name = document.getElementById("name").value
            // var actor = document.getElementById("actor").value
            var name = validateName()
            var actor = validateActor()
           // var date = document.getElementById("date").value
            var date = $("date").val()
            // var movieType = document.getElementsByName("mtype")
            var Mtype = []
            // if (movieType[0].checked) {
            //     Mtype.push(movieType[0].value)
            // }
            // if (movieType[1].checked) {
            //     Mtype.push(movieType[1].value)
            // }
            // if (movieType[2].checked) {
            //     Mtype.push(movieType[2].value)
            // }
            $("input[name=mtype]:checked").each(function(){
				Mtype.push($(this).val())
			})
            if (name && actor && date && Mtype) {
                movie.push({
                    NAME: name,
                    ACTOR: actor,
                    DATE: date,
                    MTYPE: Mtype
                })
            }
        }
        function display() {
            var htmlStr = ""
            for (var i = 0; i < movie.length; i++) {
                // htmlStr += "<tr><td>" + stds[i].name + "</td><td>" + stds[i].email + "</td><td>" + stds[i].age + "</td></tr>"
                htmlStr += `
                            <tr>
                                <td>${movie[i].NAME}</td>
                                <td>${movie[i].ACTOR}</td>
                                <td>${movie[i].DATE}</td>
                                <td>${movie[i].MTYPE}</td>
                            </tr>`

            }
           // document.getElementById("table").innerHTML = htmlStr
           $("#table").html(htmlStr)
        }
        $(document).ready(function(){
			$("#saveBtn").click(save)
			$("#displayBtn").click(display)
		})
    </script>
</head>
<body>
    <div class="container-fluid">
        <div class="row border border-danger justify-content-center align-content-center"
            style="height: 60vh; margin-top: 20vh;">
            <div class="col-4">
                <form class="shadow p-3 mb-5 bg-body-tertiary rounded-4 p-3">
                    <div class="mb-3">
                        <label for="exampleInputMovieName" class="form-label">Movie name</label>
                        <input class="form-control" type="text" id="name" placeholder="Enter movie name">
                        <span id="name_err" class="text-danger fst-italic" style="font-size: 0.8rem;"></span>
                    </div>
                    <div class="mb-3">
                        <label for="exampleInputActorName" class="form-label">Actor</label>
                        <input class="form-control" type="text" id="actor" placeholder="Enter actor name">                            
                        <span id="actor_err" class="text-danger fst-italic" style="font-size: 0.8rem;"></span>
                    </div>
                    <div class="mb-3">
                        <label for="exampleInputReleaseDate" class="form-label">Release date</label>
                        <input class="form-control" type="date" id="date">
                    </div>
                    <div class="mb-3">
                        <label for="exampleInputMovieType" class="form-label">Available in</label>
                        <input type="checkbox" name="mtype" value="2D" class="ms-3">2D
                        <input type="checkbox" name="mtype" value="3D" class="ms-3">3D
                        <input type="checkbox" name="mtype" value="IMAX" class="ms-3">IMAX
                    </div>
                    <button id="saveBtn" class="btn btn-primary me-2">Save</button>
                    <button id="displayBtn" class="btn btn-primary">Display</button>
                </form>
            </div>
            <div class="col-6 shadow p-3 mb-5 bg-body-tertiary rounded-4">
                <table class="table table-striped text-center">
                    <thead>
                        <tr>
                            <th>Movie</th>
                            <th>Actor</th>
                            <th>Releasing Date</th>
                            <th>Screen</th>
                        </tr>
                    </thead>
                    <tbody id="table" class="table table-striped">
                    </tbody>
                </table>
            </div>
        </div>
    </div>

</body>

</html>